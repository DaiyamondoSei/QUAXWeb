<!-- Quannex Intelligence Chat Widget -->
<div id="quannex-chat-bubble" aria-label="Open chat with Quannex Intelligence" tabindex="0">
  <div class="quannex-logo-animated">
    <img src="/images/quannex-logo-transparent.PNG" alt="Quannex Logo" style="width:64px;height:64px;" />
  </div>
</div>
<div id="quannex-chat-widget-wrapper">
  <div id="quannex-chat-window" role="dialog" aria-modal="true" aria-label="Quannex Intelligence Chat" style="display:none;">
    <div class="stars"></div>
    <div class="twinkling"></div>
    <div id="quannex-chat-quantum-bg"></div>
    <div id="quannex-chat-header">
      <div class="quannex-header-logo-group">
        <div class="quannex-logo-glow">
          <img src="/images/quannex-logo-transparent.PNG" alt="Quannex Logo" />
        </div>
        <div class="quannex-header-text">
          <span>Quannex Intelligence</span>
        </div>
      </div>
      <div class="quannex-header-buttons">
        <button id="quannex-history-btn" aria-label="Open chat history" title="View chat history" class="quannex-history-btn">
          <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="13" cy="13" r="10" stroke="#00e6d8" stroke-width="2.2" fill="rgba(74,144,226,0.13)"/>
            <ellipse cx="13" cy="13" rx="7" ry="3.5" stroke="#7f5cff" stroke-width="1.5" fill="none"/>
            <ellipse cx="13" cy="13" rx="3.5" ry="7" stroke="#00e6d8" stroke-width="1.5" fill="none"/>
            <circle cx="13" cy="13" r="2.2" fill="#7f5cff"/>
          </svg>
          <span class="history-cue" title="History">‚è≥</span>
        </button>
        <button id="quannex-new-chat-btn" aria-label="Start new chat" title="Start a new conversation">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="16"></line>
            <line x1="8" y1="12" x2="16" y2="12"></line>
          </svg>
        </button>
        <button id="quannex-chat-close" aria-label="Close chat">√ó</button>
      </div>
    </div>
    <div id="quannex-chat-messages" aria-live="polite"></div>
    <div id="quannex-chat-coherence-message"></div>
    <div id="quannex-chat-loader" style="display:none;justify-content:center;align-items:center;padding:16px;">
      <img src="/images/quannex-logo-transparent.PNG" alt="Loading..." class="quannex-logo-spinner" style="width:48px;height:48px;" />
    </div>
    <div id="quannex-typing-indicator" style="display:none;padding:16px;">
      <div class="typing-dot"></div>
      <div class="typing-dot"></div>
      <div class="typing-dot"></div>
    </div>
    <form id="quannex-chat-form" autocomplete="off">
      <textarea id="quannex-chat-input" placeholder="Ask your question..." aria-label="Type your message" required rows="2"></textarea>
      <button type="submit" aria-label="Send">‚û§</button>
    </form>
    <div id="quannex-chat-feedback" style="display:none;text-align:center;padding:8px 0;">
      <span>Was this answer helpful?</span>
      <button id="quannex-feedback-yes" aria-label="Thumbs up">üëç</button>
      <button id="quannex-feedback-no" aria-label="Thumbs down">üëé</button>
    </div>
    <!-- Chat History Modal (glassmorphism, hidden by default) -->
    <div id="quannex-history-modal" class="quannex-glass-modal" style="display:none;">
      <div class="quannex-history-modal-content">
        <div class="quannex-history-modal-header">
          <span>Chat History</span>
          <button id="quannex-history-close" aria-label="Close history">√ó</button>
        </div>
        <div class="quannex-history-modal-actions">
          <button id="quannex-history-clear" aria-label="Clear all history">Clear All</button>
        </div>
        <div id="quannex-history-list" class="quannex-history-list">
          <!-- Sessions will be rendered here -->
        </div>
      </div>
    </div>
  </div>
</div> 